 <!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    XRP
  </title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
  <!--     Fonts and icons     -->
<link href="https://fonts.googleapis.com/css2?family=Exo:wght@300&display=swap" rel="stylesheet">
<script
  src="https://code.jquery.com/jquery-3.5.1.js"
  integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
  crossorigin="anonymous"></script>
<link rel="stylesheet" type="text/css" href="style.css">

<script src="https://unpkg.com/xrpl/build/xrpl-latest-min.js"></script>
</head>

<body>

  <nav class="xrpnav">

       <div class="theme-sel">
          <section class="day">

            <a href="#" id="day-theme">
              <svg id="Capa_1" fill="#FFFFFF" enable-background="new 0 0 512 512"viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><g><g><path d="m256 360.099c-57.4 0-104.099-46.698-104.099-104.099s46.699-104.099 104.099-104.099 104.099 46.699 104.099 104.099-46.699 104.099-104.099 104.099z"/></g><g><path d="m256 116.071c-8.284 0-15-6.716-15-15v-86.071c0-8.284 6.716-15 15-15s15 6.716 15 15v86.071c0 8.284-6.716 15-15 15z"/></g><g><path d="m146.449 161.449c-3.839 0-7.678-1.464-10.606-4.393l-60.863-60.862c-5.858-5.858-5.858-15.355 0-21.213 5.857-5.858 15.355-5.858 21.213 0l60.862 60.861c5.858 5.858 5.858 15.355 0 21.213-2.928 2.929-6.767 4.394-10.606 4.394z"/></g><g><path d="m101.071 271h-86.071c-8.284 0-15-6.716-15-15s6.716-15 15-15h86.071c8.284 0 15 6.716 15 15s-6.716 15-15 15z"/></g><g><path d="m85.587 441.413c-3.839 0-7.678-1.464-10.606-4.394-5.858-5.858-5.858-15.355 0-21.213l60.862-60.861c5.858-5.857 15.356-5.857 21.213 0 5.858 5.858 5.858 15.355 0 21.213l-60.863 60.862c-2.928 2.928-6.767 4.393-10.606 4.393z"/></g><g><path d="m256 512c-8.284 0-15-6.716-15-15v-86.071c0-8.284 6.716-15 15-15s15 6.716 15 15v86.071c0 8.284-6.716 15-15 15z"/></g><g><path d="m426.413 441.413c-3.839 0-7.678-1.464-10.606-4.393l-60.862-60.861c-5.858-5.858-5.858-15.355 0-21.213 5.857-5.858 15.355-5.858 21.213 0l60.862 60.861c5.858 5.858 5.858 15.355 0 21.213-2.929 2.928-6.768 4.393-10.607 4.393z"/></g><g><path d="m497 271h-86.071c-8.284 0-15-6.716-15-15s6.716-15 15-15h86.071c8.284 0 15 6.716 15 15s-6.716 15-15 15z"/></g><g><path d="m365.551 161.449c-3.839 0-7.678-1.464-10.606-4.394-5.858-5.858-5.858-15.355 0-21.213l60.862-60.861c5.857-5.856 15.355-5.858 21.213 0s5.858 15.355 0 21.213l-60.862 60.861c-2.929 2.929-6.769 4.394-10.607 4.394z"/></g></g></svg>
            </a>
          </section>
          <section class="night">
            <a href="#" id="night-theme">
              <svg  fill="#FFFFFF" viewBox="-12 0 448 448.04455"  xmlns="http://www.w3.org/2000/svg"><path d="m224.023438 448.03125c85.714843.902344 164.011718-48.488281 200.117187-126.230469-22.722656 9.914063-47.332031 14.769531-72.117187 14.230469-97.15625-.109375-175.890626-78.84375-176-176 .972656-65.71875 37.234374-125.832031 94.910156-157.351562-15.554688-1.980469-31.230469-2.867188-46.910156-2.648438-123.714844 0-224.0000005 100.289062-224.0000005 224 0 123.714844 100.2851565 224 224.0000005 224zm0 0"/></svg>


            </a>
          </section>
        </div>  
  </nav>

    <div>
     <section class="eth-logo">
<img class="logo" src="logo.svg"/>
      <div class="ripple-background" style="z-index: -1000;position: fixed;top:10%;left: 50%;">
        <div class="circle xxlarge shade1"></div>
        <div class="circle xlarge shade2"></div>
        <div class="circle large shade3"></div>
        <div class="circle mediun shade4"></div>
        <div class="circle small shade5"></div>
    </div>
     </section> 


      <section>
        <div class="content-inputs">

          <h1>XRP Wallet Transactions Viewer</h1>

  <!-- Form to input XRP wallet address -->
  <div class="form-group">
    <label for="wallet-address">Enter XRP Wallet Address:</label>
    <input type="text" id="wallet-address" placeholder="Enter XRP wallet address">
  </div>
  <button id="view-transactions" class="btn submit">View Transactions</button>
  <p class="error" id="error-message"></p>

  <!-- Transactions Table -->
  <h2>Transactions</h2>
  <table id="transactions-table">
    <thead>
      <tr>
        <th>Transaction Hash</th>
        <th>Type</th>
        <th>Amount</th>
        <th>Fee</th>
        <th>Date</th>
        <th>Explorer Link</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td colspan="6">No transactions available. Enter a wallet address and click "View Transactions" to load.</td>
      </tr>
    </tbody>
  </table>

 
       </div>
      </section>

  <script>
    const client = new xrpl.Client("wss://s.altnet.rippletest.net:51233"); // Testnet client

    async function connectClient() {
      if (!client.isConnected()) {
        await client.connect();
      }
    }

    async function fetchTransactions() {
      const walletAddress = document.getElementById("wallet-address").value.trim();
      const errorMessage = document.getElementById("error-message");

      // Clear error message
      errorMessage.textContent = "";

      if (!walletAddress) {
        errorMessage.textContent = "Please enter a valid XRP wallet address.";
        return;
      }

      try {
        await connectClient();

        // Fetch transactions
        const response = await client.request({
          command: "account_tx",
          account: walletAddress,
          ledger_index_min: -1,
          ledger_index_max: -1,
          limit: 10, // Fetch the latest 10 transactions
        });

        const transactions = response.result.transactions.map((tx) => ({
          hash: tx.tx.hash,
          type: tx.tx.TransactionType,
          amount: tx.tx.Amount ? xrpl.dropsToXrp(tx.tx.Amount) : "-",
          fee: xrpl.dropsToXrp(tx.tx.Fee),
          date: new Date(tx.tx.date * 1000).toLocaleString(),
          link: `https://testnet.xrpl.org/transactions/${tx.tx.hash}`,
        }));

        displayTransactions(transactions);
      } catch (error) {
        errorMessage.textContent = `Error fetching transactions: ${error.message}`;
      }
    }

    function displayTransactions(transactions) {
      const tbody = document.getElementById("transactions-table").querySelector("tbody");
      tbody.innerHTML = "";

      if (transactions.length === 0) {
        tbody.innerHTML = `<tr><td colspan="6">No transactions found for this wallet address.</td></tr>`;
        return;
      }

      transactions.forEach((tx) => {
        const row = document.createElement("tr");
        row.innerHTML = `
          <td>${tx.hash}</td>
          <td>${tx.type}</td>
          <td>${tx.amount}</td>
          <td>${tx.fee}</td>
          <td>${tx.date}</td>
          <td><a href="${tx.link}" target="_blank">View on Explorer</a></td>
        `;
        tbody.appendChild(row);
      });
    }

    document.getElementById("view-transactions").addEventListener("click", fetchTransactions);
  </script>



    <script type="text/javascript">
      //whoosh 2020

 $(document).ready(function() {
     var d = new Date();
      document.getElementById("location").innerHTML = d;

   $("#day-theme").click(function(){
      $('body').addClass('daytheme')
    });
   
   $("#night-theme").click(function(){
      $('body').removeClass('daytheme')
    });
   
 });

    </script>
</body>

</html>